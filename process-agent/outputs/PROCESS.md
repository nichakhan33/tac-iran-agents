## 📘 PROCESS.md – مسیر توسعه پروژه TAC-IRAN

### 🎯 هدف فایل:

این فایل نقشه راه توسعه گام‌به‌گام پروژه است. تا زمانی که هر گام کاملاً اجرا و تأیید نشده، اجازه ورود به گام بعدی نیست.

---

## ⏱ فاز ۱: طراحی مفهومی و زیرساخت اولیه

1. ✅ تثبیت فرآیند سیستم ایثار (فایل کانواس)
2. ✅ ساخت ساختار پوشه‌های پروژه backend و frontend
3. ✅ طراحی و ساخت جدول users (شامل فیلد role برای تعیین نقش: student, judge, admin)
4. ✅ طراحی و ساخت جدول submissions
5. ✅ طراحی جدول documents
6. ✅ طراحی جدول reviewers
7. ✅ طراحی جدول reviews
8. طراحی جدول evaluation\_logs
9. طراحی جدول final\_results
10. ✅ طراحی جدول notifications

---

## ⚙️ فاز ۲: اتصال به دیتابیس و تست اولیه

1. ✅ ساخت فایل .env
2. ✅ اتصال از طریق `config/db.js`
3. ✅ اجرای فایل `schema.sql` در Docker یا MySQL
4. ✅ تست اتصال و نمایش لیست کاربران
5. ✅ ساخت فایل `src/app.js` و تست اجرای اولیه سرور Express

---

## 🔌 فاز ۳: توسعه API backend (Node.js)

1. API ثبت‌نام دانشجو
2. API بارگذاری مستندات (با multer)
3. API ثبت فرم و ارسال نهایی
4. API کارتابل وضعیت دانشجو (بر اساس نقش)
5. API عودت و امتیازدهی داور دانشگاهی (محدود به نقش university\_judge)
6. API ارجاع به مرحله منطقه‌ای و کشوری (برای admin یا national\_judge)
7. API گزارش نهایی و خروجی PDF/Excel

# 📘 PROCESS.md
**مستند فرآیند توسعه و مدیریت پروژه TAC-IRAN**

---

## 🎯 اهداف کلان پروژه
- ایجاد **سامانه جامع مدیریت پروژه‌ها و مدارک دانشجویی** با محوریت چندتب مستقل:  
  - هویت (Profile)  
  - علمی (Elmi)  
  - پژوهشی (Pazhuheshi)  
  - ایثارگری (Isargari)  
  - فرهنگی (Farhangi)  

- تضمین **استقلال کامل هر تب (محور)** در ارسال، داوری، عودت و رد نهایی.  
- ایجاد فرآیندی شفاف، مرحله‌ای و قابل پیگیری برای دانشجو، ادمین دانشگاهی و داور.  
- کنترل کیفیت و جلوگیری از خطا با تعریف چرخه‌های **reject1** (رد اولیه) و **reject2** (رد نهایی).  

---

## 🛠 مراحل توسعه (Roadmap)

### 🔹 ۱. طراحی و راه‌اندازی زیرساخت
- [x] طراحی دیتابیس MySQL (جداول users، user_profiles، submissions، documents و ...).
- [x] پیاده‌سازی Backend با Node.js + Express (Dockerized).
- [x] راه‌اندازی Frontend با React + Tailwind CSS (جداسازی نقش‌ها: دانشجو، داور، ادمین دانشگاه).

---

### 🔹 ۲. احراز هویت و ثبت‌نام دانشجو
- [x] ثبت‌نام و ورود با JWT Auth.  
- [x] فرم اولیه ثبت‌نام: ایمیل، دانشگاه، نقش موردنظر.  
- [x] مسیر نقش‌ها:
  - `pending`: در انتظار تأیید اولیه  
  - `student`: تایید شده (ورود به داشبورد)  
  - `rejected1`: رد اولیه (امکان اصلاح و ارسال مجدد فرم ثبت‌نام)  

---

### 🔹 ۳. تکمیل پروفایل و ساخت پروژه (Submission)
- [x] فرم پروفایل تکمیلی (نام، کد ملی، شناسنامه، تلفن، آدرس، تصویر پرسنلی، کارت ملی و ...).  
- [x] آپلود مدارک هویتی و ذخیره در `user_profiles`.  
- [x] بررسی و تایید/عودت پروفایل توسط ادمین دانشگاه (reject1 در صورت نقص).  
- [x] ایجاد پروژه جدید (`submission`) با محورهای مستقل و status اختصاصی برای هر تب.  

---

### 🔹 ۴. مدیریت و تکمیل تب‌های دانشجو (داشبورد دانشجو)
- [x] نمایش تب‌ها (هویت، علمی، پژوهشی، ایثارگری، فرهنگی) در داشبورد دانشجو.  
- [x] تکمیل فرم هر تب و آپلود مدارک مخصوص آن تب.  
- [x] امکان ارسال نهایی هر تب تنها پس از تکمیل کامل فرم.  
- [x] وضعیت‌های مستقل هر تب:  
  - `draft` → پیش‌نویس (قابل ویرایش)  
  - `submitted` → ارسال شده (در انتظار داوری)  
  - `returned` → عودت خورده (قابل اصلاح و ارسال مجدد)  
  - `approved` → تایید شده  
  - `reject2` → رد نهایی (پس از سه بار returned)  
- [x] شمارنده دفعات ارسال مجدد: حداکثر ۳ بار؛ پس از آن reject2 فعال می‌شود.  

---

### 🔹 ۵. فرآیند داوری و مدیریت هر تب
- [x] هر تب به‌صورت جداگانه توسط ادمین دانشگاه یا داور بررسی می‌شود.  
- [x] در صورت نقص: عودت (returned) با توضیح ثبت می‌شود.  
- [x] در صورت تایید: وضعیت به `approved` تغییر می‌کند.  
- [x] پس از سومین عودت: امکان فعال‌سازی رد نهایی (`reject2`).  
- [x] رد نهایی (`reject2`): تب دیگر قابل اصلاح یا ارسال مجدد نیست.  

---

### 🔹 ۶. داشبورد مدیریت ادمین دانشگاه
- [ ] نمایش لیست دانشجویان و پروژه‌ها (Pending، Approved، Returned، Reject2).  
- [ ] امکان مشاهده جزئیات هر تب و مدارک بارگذاری شده.  
- [ ] عملیات مدیریتی برای هر تب:
  - تایید (approved)  
  - عودت (returned) با توضیح  
  - رد نهایی (reject2) در صورت سه بار عودت  
- [ ] بروزرسانی لحظه‌ای لیست و وضعیت‌ها.  

---

## ⚖️ قواعد کلیدی پروژه

- **استقلال کامل تب‌ها:** وضعیت هر تب بر تب‌های دیگر تأثیر نمی‌گذارد.  
- **چرخه reject1:** فقط در مرحله ثبت‌نام اولیه؛ دانشجو باید اطلاعات پایه را اصلاح کند.  
- **چرخه reject2:** فقط در مرحله پروژه و پس از ۳ بار عودت یک تب فعال می‌شود.  
- **شفافیت وضعیت‌ها:** تمام وضعیت‌ها با رنگ و پیام واضح به دانشجو و ادمین نمایش داده می‌شود.  
- **الزام تکمیل فرم‌ها:** هیچ تب بدون تکمیل کامل فرم و مدارک قابل ارسال نیست.  

---

## 🔮 مراحل توسعه آینده
- [ ] جستجو، فیلتر و گزارش‌گیری پیشرفته در داشبورد ادمین.  
- [ ] سیستم نوتیفیکیشن برای اطلاع‌رسانی به دانشجو و ادمین.  
- [ ] ارتقاء سطوح دسترسی و امنیت.  
- [ ] پیاده‌سازی نسخه موبایل و واکنش‌گرا.  

---

## 📌 یادآوری
این فایل باید پس از هر تغییر مهم در کد یا فرآیند بروزرسانی شود.  
همیشه فقط پس از **تأیید کامل گام قبلی**، گام بعدی آغاز شود.  

---

---                             |
| ---------------------- | ---------- | ---------------------------------------------------------------- |
| 🧑‍🎓 دانشجو           | 1          | ارسال فرم‌ها و مدارک، مشاهده وضعیت، دریافت پیام از داور          |
| 🧑‍🏫 داور دانشگاهی    | 2          | بررسی و امتیازدهی اولیه، تأیید یا عودت فرم‌های دانشجو            |
| 🧑‍💼 داور منطقه‌ای    | 3          | بررسی مرحله دوم برای فرم‌های تأیید شده، ارزیابی مجدد             |
| 🧑‍⚖️ داور کشوری       | 4          | بررسی نهایی و امتیازدهی قطعی برای رتبه‌بندی                      |
| 👨‍💼 ادمین سامانه     | 5          | مدیریت کاربران، تعیین سطوح دسترسی، گزارش‌گیری، تأیید نهایی نتایج |
| 🧑‍🔧 ناظر فنی / سیستم | 6          | مانیتورینگ سیستم، بررسی لاگ‌ها، تنظیمات زیرساخت                  |

> این سطوح نقش‌ها در طراحی دیتابیس (`users.role`) و در کنترل دسترسی APIها استفاده خواهند شد.
